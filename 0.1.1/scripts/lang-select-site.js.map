{"version":3,"file":"lang-select-site.js","sources":["lang-select-site.js"],"sourcesContent":["/**\n * @file\n * Site level language switcher related behaviors.\n */\n\n(function ($) {\n  Drupal.behaviors.europa_lang_select_site = {\n    attach: function(context) {\n      var $overlay = $('.splash-page--overlay'),\n          overlay = '.splash-page--overlay',\n          closeBtn = '.splash-page__btn-close',\n          body = 'body';\n\n      $('.lang-select-site').on('click', 'a.lang-select-site__link', function(event){\n\n        // We only want to load it once.\n        if (!$overlay.find(closeBtn).length) {\n\n          $.get($(this).attr('href'), function(splashscreen) {\n            // Store our object.\n            var $jQueryObject = $($.parseHTML(splashscreen));\n            // Output the part we want to our overlay.\n            $overlay.html($jQueryObject.find('.page-content'))\n          });\n        }\n\n        // Show overlay.\n        $(overlay).show();\n        $(body).addClass('disablescroll');\n\n        // Hide frame helper function.\n        var closeSplashScreen = function(event){\n          $(overlay).hide();\n          $(body).removeClass('disablescroll');\n        };\n\n        // Hide frame on click.\n        $overlay.on('click', closeBtn, function(event){\n          closeSplashScreen();\n          // Prevent the actual close a href to trigger. This should only work\n          // if javascript is disabled.\n          event.preventDefault();\n        });\n\n        // Hide frame on pressing ESC.\n        $(document).keyup(function(e) {\n          // Escape key maps to keycode '27'.\n          if (e.keyCode == 27) {\n            closeSplashScreen();\n          }\n        });\n\n        // Prevent the default click, if javascript is disabled this link\n        // will keep on working.\n        event.preventDefault();\n      });\n    }\n  };\n})(jQuery);\n"],"names":[],"mappings":";;;;;GAKA,CAAC,SAAU,CAAC,CAAE,CACZ,MAAM,CAAC,SAAS,CAAC,uBAAuB,CAAG,CACzC,MAAM,CAAE,SAAS,OAAO,CAAE,CACxB,IAAI,QAAQ,CAAG,CAAC,CAAC,uBAAuB,CAAC,CACrC,OAAO,CAAG,uBAAuB,CACjC,QAAQ,CAAG,yBAAyB,CACpC,IAAI,CAAG,MAAM,CAAC,CAEjB,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,OAAO,CAAE,0BAA0B,CAAE,SAAS,KAAK,CAAC;AAG5E,GAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAE,CAEnC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAE,SAAS,YAAY,CAAE;AAEjD,IAAI,aAAa,CAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;AAAC,QAEzC,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAA,CACnD,CAAC,CAAC,CACJ;AAAA,CAGA,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,CACjB,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,eAAe,CAAC;AAAC,IAG9B,iBAAiB,CAAG,SAAS,KAAK,CAAC,CACrC,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,CACjB,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC,CACtC;AAAC,QAGM,CAAC,EAAE,CAAC,OAAO,CAAE,QAAQ,CAAE,SAAS,KAAK,CAAC,CAC5C,iBAAiB,EAAE;;AAAC,KAGf,CAAC,cAAc,EAAE,CAAC,CACxB,CAAC;AAAC,CAGF,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAE;AAE5B,GAAI,CAAC,CAAC,OAAO,EAAI,EAAE,CAAE,CACnB,iBAAiB,EAAE,CAAC,CACrB,CACF,CAAC;;AAAC,KAIE,CAAC,cAAc,EAAE,CAAC,CACxB,CAAC,CAAC,CACJ,CACF,CAAC,CACH,CAAA,CAAE,MAAM,CAAC;;","sourceRoot":"../src/"}