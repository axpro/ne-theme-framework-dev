{"version":3,"file":"europa.js","sources":["../../../src/framework/components/breadcrumb/scripts/breadcrumb.js","../../../src/framework/components/collapse/scripts/collapse.js","../../../src/framework/components/file/scripts/file.js","../../../src/framework/components/filters/scripts/filters.js","../../../src/framework/components/inpage-nav/scripts/inpage_nav.js","../../../src/framework/components/lang-select-page/scripts/lang-switcher.js","../../../src/framework/components/lang-select-site/scripts/lang-select-site.js","../../../src/framework/components/pager/scripts/pager.js","../../../src/framework/components/nav-tabs/scripts/tabs.js","../../../src/framework/components/timeline/scripts/timeline.js","../../../src/framework/utilities/equal-height/scripts/equal-height.js"],"sourcesContent":["/**\n * Breadcrumb related behaviors.\n */\n\nexport function breadcrumb(selector, breakpoints) {\n  jQuery(selector).once('breadcrumb', () => {\n    const $wrapper = jQuery(selector);\n    $wrapper.addClass('breadcrumb--collapsible');\n\n    // Global selectors.\n    const $segmentsWrapper = $wrapper.children('.breadcrumb__segments-wrapper');\n    const $segments = $segmentsWrapper.children('.breadcrumb__segment');\n    const $segmentFirst = $segmentsWrapper.children('.breadcrumb__segment--first');\n    const $segmentsecond = $segmentFirst.next();\n\n    // Calculating items that are not hidden.\n    let $visibleSegments = $segments.not('.is-hidden');\n\n    // Hiding breadcrumb segments when there is not enough space.\n    function togglesegments() {\n      for (let i = 0; i < $visibleSegments.length; i++) {\n        // Calculating sizes.\n        const calculations = {};\n        calculations.wrapperWidth = $wrapper.width();\n        calculations.width = $segmentsWrapper.width();\n\n        calculations.itemsWidth = 0;\n        $segments.not('.is-hidden').each(i => {\n          calculations.itemsWidth += jQuery(this).outerWidth(true);\n        });\n\n        const $lastHiddenItem = $segments.siblings('.is-hidden').last();\n        const lastHiddenItemWidth = $lastHiddenItem.width();\n\n        // Hiding segments.\n        if (calculations.wrapperWidth <= calculations.itemsWidth) {\n          if ($segmentsecond.hasClass('is-hidden')) {\n            $lastHiddenItem.next().not('.breadcrumb__segment--last').addClass('is-hidden');\n          } else {\n            $segmentFirst.addClass('breadcrumb__segment--next-hidden');\n            $segmentsecond.addClass('is-hidden');\n          }\n        }\n\n        // Showing segments.\n        if ((calculations.itemsWidth + lastHiddenItemWidth) < calculations.wrapperWidth) {\n          if ($lastHiddenItem.hasClass('is-hidden')) {\n            $lastHiddenItem.removeClass('is-hidden');\n          } else {\n            $segmentFirst.removeClass('breadcrumb__segment--next-hidden');\n          }\n        }\n      }\n\n      $visibleSegments = $segments.not('.is-hidden');\n    }\n\n    // Showing all hidden breadcrumbs.\n    function showBreadcrumbs($selector) {\n      $selector.hide();\n      $wrapper.addClass('is-open');\n    }\n\n    // Adding button to breadcrumb element that will be used for showing\n    // hidden breadcrumb elements.\n    let $breadcrumbButton;\n    if ($segments.length > 1) {\n      $wrapper.append('<span class=\"breadcrumb__btn-separator\">...</span>');\n      $breadcrumbButton = $wrapper.find('.breadcrumb__btn-separator');\n    }\n\n    if (typeof enquire !== 'undefined') {\n      // Runs on device width change.\n      enquire.register(breakpoints.medium, {\n        // Desktop.\n        match: () => {\n          $wrapper.removeClass('is-open');\n\n          if ($breadcrumbButton) {\n            $breadcrumbButton.hide();\n          }\n\n          togglesegments();\n\n          jQuery(window).resize(() => {\n            togglesegments();\n          });\n        },\n        // Mobile.\n        unmatch: () => {\n          if ($breadcrumbButton) {\n            $breadcrumbButton.show();\n          }\n          $segments.removeClass('is-hidden');\n\n          $segmentFirst.removeClass('breadcrumb__segment--next-hidden');\n          jQuery(window).off('resize');\n        },\n\n        setup: () => {\n          if ($breadcrumbButton) {\n            $breadcrumbButton.click(() => {\n              // Adding jQuery(this) as a selector for the showBreadcrumbs function.\n              showBreadcrumbs(jQuery(this));\n            });\n          }\n        },\n      });\n    }\n  });\n}\n","export function collapse(showText, hideText) {\n  jQuery('button[data-toggle=collapse]').each(() => {\n    const dependentId = jQuery(this).attr('data-target');\n    let toggler = jQuery(dependentId).hasClass('in') ? hideText : showText;\n    const arrow = jQuery('.icon', jQuery(this));\n    const fillMe = jQuery('.toggling-text', jQuery(this));\n    fillMe.text(toggler);\n\n    jQuery(this).click(() => {\n      const up = 'icon--up';\n      const down = 'icon--down';\n      const add = arrow.hasClass(down) ? up : down;\n      const rem = arrow.hasClass(down) ? down : up;\n      toggler = fillMe.text() === hideText ? showText : hideText;\n      fillMe.text(toggler);\n      arrow.addClass(add).removeClass(rem);\n    });\n  });\n}\n","/**\n * File component related behaviors.\n */\n\nexport function file() {\n  const $button = jQuery('.file__translations-control');\n  const $translations = jQuery('.file__translations-list');\n\n  $button.click(() => {\n    const self = this;\n    $translations.collapse('toggle');\n    jQuery(self).toggleClass('is-collapsed');\n  });\n}\n","/**\n * Exposed filter related behaviors.\n */\n\nexport function filters(refineText, hideText, clearAll, exposedBlockId) {\n  const $filters = jQuery('.filters');\n  const $filtersSubmit = jQuery('.filters__btn-submit', $filters);\n  const filtersFormId = $filters.find('form').attr('id');\n  const $resultsCount = jQuery('.filters__result-count');\n  const $itemsNumber = jQuery('.filters__items-number');\n\n  // Checking if IE8 is used.\n  let oldIE = false;\n  if (jQuery('html').is('.ie8')) {\n    oldIE = true;\n  }\n\n  // Function for hiding Submit and Reset buttons.\n  const hideFilterButtons = () => {\n    jQuery('.filters__btn-collapse, .filters__btn-reset--small').hide();\n  };\n\n  const showFilterButtons = () => {\n    jQuery('.filters__btn-collapse, .filters__btn-reset--small').show();\n  };\n\n  // Adding buttons for the filters.\n  if ($resultsCount.is(':visible') && !jQuery('.filters__btn-collapse').length) {\n    $resultsCount.append(`\n      <div class=\"btn-group\">\n        <button class=\"btn btn-default filters__btn-reset--small hidden js-showonsubmit\">\n          ${clearAll}\n        </button>\n        <button class=\"btn btn-primary filters__btn-collapse\" type=\"button\"\n          data-toggle=\"collapse\" data-target=\"#${exposedBlockId}\"\n          aria-expanded=\"false\" aria-controls=\"collapseFilters\">\n          ${refineText}\n        </button>\n      </div>`);\n  }\n\n  // Listeners.\n  // Small button emulating the original reset button.\n  jQuery('.filters__btn-reset--small').on('click', () => {\n    jQuery('.filters__btn-reset').trigger('click');\n  });\n\n  // Runs only once.\n  // Add throbber next to content type and items count text.\n  $filters.once('filters', () => {\n    const throbber = `<div class=\"ajax-progress ajax-progress-throbber\">\n        <i class=\"icon icon--spinner is-spinning\"></i>\n      </div>`;\n    jQuery(document).ajaxStart((e) => {\n      if (e.currentTarget.activeElement.form === 'undefined'\n        && e.currentTarget.activeElement.form.id === filtersFormId) {\n        $itemsNumber.prepend(throbber);\n      }\n    });\n\n    if (typeof enquire !== 'undefined') {\n      // Runs on device width change.\n      enquire.register('screen and (min-width: 992px)', {\n        // Desktop.\n        match: () => {\n          const $filtersWrapper = jQuery('.filters__wrapper');\n\n          $filtersSubmit.addClass('ctools-auto-submit-click');\n\n          // Opening filters when changing to desktop.\n          $filters\n            .removeClass('collapse')\n            .addClass('collapse in')\n            .attr('aria-expanded', true)\n            .removeAttr('style');\n\n          // Hiding filter buttons.\n          hideFilterButtons();\n\n          $filters.children('.close').remove();\n          if ($filtersWrapper.length) {\n            $filtersWrapper.children().unwrap('<div class=\"filters__wrapper\"></div>');\n          }\n        },\n        // Mobile.\n        unmatch: () => {\n          // Showing buttons on viewport switch.\n          showFilterButtons();\n\n          $filters.wrapInner('<div class=\"filters__wrapper\"></div>');\n          $filters\n            .removeClass('collapse in')\n            .addClass('collapse')\n            .attr('aria-expanded', false);\n\n          $filtersSubmit.removeClass('ctools-auto-submit-click');\n        },\n\n        setup: () => {\n          // IE8 fix - showing the element containing the filters.\n          if (jQuery(window).width() > 991) {\n            $filters\n              .removeClass('collapse')\n              .addClass('collapse in')\n              .attr('aria-expanded', true)\n              .removeAttr('style');\n          } else {\n            $filters.addClass('collapse');\n          }\n          $filtersSubmit.removeClass('ctools-auto-submit-click');\n          $filters.wrapInner('<div class=\"filters__wrapper\"></div>');\n\n          if (!oldIE) {\n            $filtersSubmit.click(() => {\n              if (!$filtersSubmit.hasClass('ctools-auto-submit-click')) {\n                $filters.collapse('hide');\n              }\n            });\n          }\n\n          $filters.on('show.bs.collapse', () => {\n            jQuery(this).prepend(`\n              <a class=\"close filters__close\" data-toggle=\"collapse\"\n                data-target=\"#${exposedBlockId}\"\n                aria-expanded=\"true\" aria-controls=\"collapseFilters\">\n                ${hideText}\n              </a>`);\n            hideFilterButtons();\n          });\n\n          $filters.on('hide.bs.collapse', () => {\n            jQuery(this).children('.close').remove();\n            showFilterButtons();\n          });\n        },\n      });\n    }\n  });\n}\n","/**\n * In-page nav related behaviors.\n */\n\nexport function inpageNav(nodeTitle, onThisPageText, toggleNavText) {\n  const currentTitle = ($navBar, $navBarCurrent) => {\n    // Clear title for In page nav navbar title if nothing selected.\n    const currentItem = jQuery('li.active > a', $navBar);\n    if (currentItem.length === 0) {\n      $navBarCurrent.text(nodeTitle);\n    } else {\n      $navBarCurrent.text(currentItem.text());\n    }\n  };\n\n  jQuery('.inpage-nav').once('page-navigation', () => {\n    const $inPage = jQuery('.inpage-nav');\n    const $inPageBlock = $inPage.parents('.inpage-nav__wrapper');\n    const $inPageBlockParent = $inPageBlock.parent();\n    let inPageBlockHeight = $inPageBlock.height();\n    let inPageBlockTop = $inPageBlock.offset().top;\n    const title = nodeTitle;\n\n    // Calculate width on window resize, and check offset height of in-page\n    // nav block.\n    jQuery(window).resize(() => {\n      $inPageBlock.css({ width: `${$inPageBlockParent.width()}px` });\n      inPageBlockTop = $inPageBlock.offset().top;\n      inPageBlockHeight = $inPageBlock.height();\n\n      // Refresh scrollspy.\n      jQuery('body').scrollspy('refresh');\n    });\n\n    const $navBar = jQuery(`\n          <div class=\"inpage-nav__navbar-wrapper is-scrollspy-target\">\n            <nav class=\"navbar navbar-default navbar-fixed-top inpage-nav__navbar\">\n              <div class=\"container inpage-nav__container\">\n                <div class=\"navbar-header inpage-nav__header\"\n                  data-toggle=\"collapse\" data-target=\"#inpage-navigation-list\"\n                  aria-expanded=\"false\" aria-controls=\"navbar\">\n                  <button type=\"button\" class=\"navbar-toggle collapsed inpage-nav__toggle\">\n                    <span class=\"sr-only\">${toggleNavText}</span>\n                    <span class=\"inpage-nav__icon-arrow icon icon--arrow-down\"></span>\n                  </button>\n                  <span class=\"navbar-brand inpage-nav__help\">${onThisPageText}</span>\n                <div class=\"inpage-nav__current-wrapper\">\n                <span class=\"navbar-brand inpage-nav__current\">${title}</span>\n                </div>\n              </div>\n              <div class=\"navbar-collapse collapse\" id=\"inpage-navigation-list\">\n                <span class=\"inpage-nav__title\" >${title}</span>${$inPage.html()}\n              </div>\n            </div>\n          </nav>`);\n\n    const $navBarCurrent = jQuery('.inpage-nav__current', $navBar);\n    const $navBarList = jQuery('.inpage-nav__list', $navBar);\n\n    $navBarList.addClass('nav inpage-nav__list--navbar');\n    jQuery('body').append($navBar);\n\n    enquire.register('screen and (min-width: 992px)', {\n      // Desktop.\n      match: () => {\n        // Adding function that is calculating and adding inpage-nav block\n        // width. This is due to usage of position: fixed on the inpage-nav\n        // element.\n        $inPageBlock.css({ width: `${$inPageBlockParent.width()}px` });\n\n        // Remove class that adds overflow: hidden to body.\n        jQuery('body').removeClass('is-inpage-nav-open');\n        $inPageBlock.affix('checkPosition');\n      },\n\n      setup: () => {\n        // Hide if clicked outside.\n        jQuery('.inpage-nav__navbar', $navBar).click(() => {\n          jQuery('#inpage-navigation-list').collapse('hide');\n        });\n\n        // Page navigation scroll spy.\n        jQuery('body').scrollspy({ target: '.is-scrollspy-target' });\n\n        $navBar.on('show.bs.collapse', () => {\n          $navBar.addClass('is-collapsing');\n        });\n\n        $navBar.on('shown.bs.collapse', () => {\n          $navBar.addClass('is-collapsed');\n          $navBar.removeClass('is-collapsing');\n        });\n\n        $navBar.on('hide.bs.collapse', () => {\n          $navBar.removeClass('is-collapsed');\n          jQuery('body').removeClass('is-inpage-nav-open');\n        });\n\n        $navBar.on('activate.bs.scrollspy', () => {\n          // Set title to current;.\n          currentTitle($navBar, $navBarCurrent);\n        });\n\n        // Affix.\n        $inPageBlock.affix({\n          offset: {\n            top: () => Math.floor($inPageBlock.parent().offset().top) - 30,\n            bottom: () => jQuery('.footer').outerHeight(true) + jQuery('.footer-top').outerHeight(true) + 20\n          },\n        });\n\n        jQuery(window).scroll(() => {\n          const $window = jQuery(this);\n          // Set title to current;.\n          currentTitle($navBar, $navBarCurrent);\n\n          // Show navbar if scroll is under the block.\n          const docViewTop = $window.scrollTop();\n          const inPageBottom = inPageBlockTop + inPageBlockHeight - 5;\n\n          if (inPageBottom <= docViewTop) {\n            $navBar.addClass('is-active');\n          } else {\n            $navBar.removeClass('is-active');\n            jQuery('#inpage-navigation-list').collapse('hide');\n          }\n        });\n      },\n\n      // Mobile.\n      unmatch: () => {\n        // Collapse navbar on changing to mobile behavior.\n        if (jQuery('.inpage-nav__navbar-wrapper').hasClass('is-collapsed')) {\n          jQuery('#inpage-navigation-list').collapse('hide');\n        }\n\n        $navBar.on('show.bs.collapse', () => {\n          jQuery('body').addClass('is-inpage-nav-open');\n        });\n\n        $navBar.on('hide.bs.collapse', () => {\n          jQuery('body').removeClass('is-inpage-nav-open');\n        });\n      },\n    });\n  });\n}\n","/**\n * Page level language switcher.\n */\n\nexport function languageSwitcherPage(breakpoints) {\n  const pageSwitcher = {\n    wrapClass: '.lang-select-page',\n    listClass: '.lang-select-page__list',\n    itemClass: '.lang-select-page__option',\n    iconClass: '.lang-select-page__icon',\n    unavClass: '.lang-select-page__unavailable',\n    wrapWidth: () => jQuery(pageSwitcher.wrapClass).outerWidth(),\n    listWidth: () => jQuery(pageSwitcher.listClass).outerWidth(),\n    iconWidth: () => jQuery(pageSwitcher.iconClass).outerWidth(),\n    unavailableWidth: () => jQuery(pageSwitcher.unavClass).outerWidth(),\n    itemsWidth: () => {\n      let overallWidth = 0;\n      jQuery(pageSwitcher.listClass).children(pageSwitcher.itemClass).each(() => {\n        overallWidth += jQuery(this).outerWidth();\n      });\n      return overallWidth;\n    },\n    itemsOverflow: () => {\n      const availableSpace =\n        pageSwitcher.wrapWidth() - pageSwitcher.iconWidth() - pageSwitcher.unavailableWidth();\n\n      return pageSwitcher.itemsWidth() > availableSpace - 20;\n    },\n  };\n\n  jQuery('#block-language-selector-page-language-selector-page').once('lang-select-page', () => {\n    const pageLanguageSelector = jQuery('.lang-select-page');\n    pageLanguageSelector.selectify({\n      listSelector: 'lang-select-page__list',\n      item: 'lang-select-page__option',\n      other: 'lang-select-page__other',\n      unavailable: 'lang-select-page__unavailable',\n      selected: 'is-selected',\n    });\n\n    const overflowToggle = () => {\n      switch (pageSwitcher.itemsOverflow()) {\n        case true:\n          pageLanguageSelector.trigger('hide.list');\n          pageLanguageSelector.trigger('show.dropdown');\n          break;\n        case false:\n        default:\n          pageLanguageSelector.trigger('show.list');\n          pageLanguageSelector.trigger('hide.dropdown');\n          break;\n      }\n    };\n\n    if (typeof enquire !== 'undefined') {\n      // Runs on device width change.\n      enquire.register(breakpoints.medium, {\n        // Desktop case.\n        match: () => {\n          jQuery(window).resize(() => {\n            overflowToggle();\n          });\n        },\n        // Mobile case.\n        unmatch: () => {\n          jQuery(window).off('resize');\n        },\n        setup: () => {\n          overflowToggle();\n        },\n      });\n    }\n  });\n}\n","/**\n * @file\n * Site level language switcher related behaviors.\n */\n\nexport function langSelectSite() {\n  const $overlay = jQuery('.splash-page--overlay');\n  const overlay = '.splash-page--overlay';\n  const closeBtn = '.splash-page__btn-close';\n  const body = 'body';\n\n  jQuery('.lang-select-site').on('click', 'a.lang-select-site__link', (event) => {\n    // We only want to load it once.\n    if (!$overlay.find(closeBtn).length) {\n      jQuery.get(jQuery(this).attr('href'), (splashscreen) => {\n        // Store our object.\n        const $jQueryObject = jQuery(jQuery.parseHTML(splashscreen));\n        // Output the part we want to our overlay.\n        $overlay.html($jQueryObject.find('.page-content'));\n      });\n    }\n\n    // Show overlay.\n    jQuery(overlay).show();\n    jQuery(body).addClass('disablescroll');\n\n    // Hide frame helper function.\n    const closeSplashScreen = () => {\n      jQuery(overlay).hide();\n      jQuery(body).removeClass('disablescroll');\n    };\n\n    // Hide frame on click.\n    $overlay.on('click', closeBtn, (e) => {\n      closeSplashScreen();\n      // Prevent the actual close a href to trigger. This should only work\n      // if javascript is disabled.\n      e.preventDefault();\n    });\n\n    // Hide frame on pressing ESC.\n    jQuery(document).keyup((e) => {\n      // Escape key maps to keycode '27'.\n      if (e.keyCode === 27) {\n        closeSplashScreen();\n      }\n    });\n\n    // Prevent the default click, if javascript is disabled this link\n    // will keep on working.\n    event.preventDefault();\n  });\n}\n","/**\n * Pager related behaviors.\n */\n\nexport function pager(pageText) {\n  let options = '';\n  jQuery('ul.pager').once('pager', () => {\n    jQuery('li.select', this).once('pagerselect', () => {\n      const $link = jQuery('a', this);\n      let value;\n      let title;\n      let selected;\n\n      if ($link.length > 0) {\n        value = $link.attr('href');\n        title = `${pageText}  ${$link.html()}`;\n        selected = '';\n      } else {\n        value = '';\n        title = `${pageText}  ${jQuery(this).html()}`;\n        selected = ' selected=\"selected\"';\n      }\n\n      options += `<option value=\"${value}\"${selected}>${title}</option>`;\n      jQuery(this).hide();\n    });\n\n    if (options !== '') {\n      const select = jQuery(`\n        <span class=\"pager__combo-upper\">\n          <select class=\"pager__combo-dropdown\">\n            ${options}\n          </select>\n        </span>`);\n\n      select.children().data('activation', 'activated').on({\n        keydown: (event) => {\n          if (event.which === 13) {\n            if (jQuery(this).data('activation') === 'paused') {\n              jQuery(this).data('activation', 'activated');\n              jQuery(this).trigger('change');\n            }\n          } else {\n            jQuery(this).data('activation', 'paused');\n          }\n        },\n        click: () => {\n          if (jQuery(this).data('activation') === 'paused') {\n            jQuery(this).data('activation', 'activated');\n            jQuery(this).trigger('change');\n          }\n        },\n        change: () => {\n          if (jQuery(this).data('activation') === 'activated') {\n            const optionHref = jQuery(this).val();\n            const $pagerItem = jQuery('.pager__item:hidden');\n            $pagerItem.children(`a[href=\"${optionHref}\"]`).click();\n          }\n        },\n      });\n      jQuery('.pager__combo-container', this).before(select);\n    }\n  });\n}\n","\nexport function tab() {\n  jQuery('.nav-tabs--with-content').once('nav-tabs', () => {\n    const $this = jQuery(this);\n    if (typeof enquire !== 'undefined') {\n      // Runs on device width change.\n      enquire.register('screen and (max-width: 479px)', {\n        // Setup.\n        setup: () => {\n          $this.siblings('.tab-content').children().addClass('tab-pane');\n        },\n        // Mobile.\n        match: () => {\n          $this.siblings('.tab-content').children().removeClass('tab-pane');\n        },\n        // Desktop.\n        unmatch: () => {\n          $this.siblings('.tab-content').children().addClass('tab-pane');\n        },\n      });\n    }\n  });\n}\n","export function timeline(showTimelineText) {\n  const $timelineSelector = jQuery('.timeline');\n\n  jQuery($timelineSelector).once('timeline', () => {\n    const timelineItemSelector = '.timeline__item';\n    const timelineItemsCount = jQuery(timelineItemSelector).length;\n    const timeLineButton = `\n      <div class=\"timeline__footer\">\n        <button class=\"btn btn-time-line\">${showTimelineText}</button>\n      </div>`;\n\n    if (timelineItemsCount > 4) {\n      $timelineSelector.append(timeLineButton);\n      jQuery(timelineItemSelector).each((index, element) => {\n        if (index >= 4) {\n          jQuery(element).addClass('hidden');\n        }\n      });\n\n      jQuery('.btn-time-line').click((event) => {\n        event.preventDefault();\n        jQuery(event.target).hide();\n        jQuery(timelineItemSelector).removeClass('hidden');\n        // Refreshing scrollspy to recalculate the offset.\n        jQuery('body').scrollspy('refresh');\n      });\n    }\n  });\n}\n","function fixBlockHeights($block) {\n  $block.each(() => {\n    const $wrapper = jQuery(this);\n    const $blocks = [];\n\n    // Columns and rows.\n    if ($wrapper.hasClass('listing__wrapper--two-columns')\n      || $wrapper.hasClass('listing__wrapper--row-two')) {\n      const selector = '.listing__item-link > :first-child';\n      // Two column listing blocks.\n      let $firstColumn;\n      let $lastColumn;\n\n      if ($wrapper.hasClass('listing__wrapper--two-columns')) {\n        $firstColumn = $wrapper.find('.listing:first-child .listing__item');\n        $lastColumn = $wrapper.find('.listing:last-child .listing__item');\n      } else if ($wrapper.hasClass('listing__wrapper--row-two')) {\n        // Row with two items.\n        $firstColumn = $wrapper.find('.listing .listing__item:nth-child(odd)');\n        $lastColumn = $wrapper.find('.listing .listing__item:nth-child(even)');\n      }\n\n      // First column always contains more items if not equal.\n      $firstColumn.each((index, item) => {\n        // Only applicable if there's an item in the other column at index.\n        if (!$lastColumn.eq(index)) {\n          return;\n        }\n        const $row = jQuery(item).find(selector).add($lastColumn.eq(index).find(selector));\n        $blocks.push($row);\n      });\n    } else {\n      // Simple listing blocks.\n      $blocks.push($wrapper.find('.listing__item-link > :first-child'));\n    }\n\n    for (let i = 0, max = $blocks.length; i < max; i++) {\n      $blocks[i].matchHeight();\n    }\n  });\n}\n\nexport function equalHeight(breakpoints) {\n  jQuery('.equal-height').once('equal-height-blocks', () => {\n    const $equalHeightBlock = jQuery(this);\n    if (typeof enquire !== 'undefined') {\n      // Runs on device width change.\n      enquire.register(breakpoints.small, {\n        // Desktop.\n        match: () => fixBlockHeights($equalHeightBlock, false),\n        // Mobile.\n        unmatch: () => fixBlockHeights($equalHeightBlock, true),\n      });\n    }\n  });\n}\n"],"names":[],"mappings":"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"}