{"version":3,"file":"components/lang-select-page/scripts/lang-switcher.js","sources":["components/lang-select-page/scripts/lang-switcher.js"],"sourcesContent":["/**\n * @file\n * Page level language switcher.\n */\n\n(function ($) {\n  'use strict';\n\n  var pageSwitcher = {\n    wrapClass: '.lang-select-page',\n    listClass: '.lang-select-page__list',\n    itemClass: '.lang-select-page__option',\n    iconClass: '.lang-select-page__icon',\n    unavClass: '.lang-select-page__unavailable',\n    wrapWidth: function () {\n      return $(pageSwitcher.wrapClass).outerWidth();\n    },\n    listWidth: function () {\n      return $(pageSwitcher.listClass).outerWidth();\n    },\n    iconWidth: function () {\n      return $(pageSwitcher.iconClass).outerWidth();\n    },\n    unavailableWidth: function () {\n      return $(pageSwitcher.unavClass).outerWidth();\n    },\n    itemsWidth: function () {\n      var overallWidth = 0;\n      $(pageSwitcher.listClass).children(pageSwitcher.itemClass).each(function () {\n        overallWidth += $(this).outerWidth();\n      });\n      return overallWidth;\n    },\n    itemsOverflow: function () {\n      var availableSpace = pageSwitcher.wrapWidth() - pageSwitcher.iconWidth() - pageSwitcher.unavailableWidth();\n      return pageSwitcher.itemsWidth() > availableSpace - 20;\n    }\n  };\n\n  Drupal.behaviors.languageSwitcherPage = {\n    attach: function (context) {\n      $('#block-language-selector-page-language-selector-page').once('lang-select-page', function (){\n        var pageLanguageSelector = $('.lang-select-page');\n        pageLanguageSelector.selectify({\n          listSelector: 'lang-select-page__list',\n          item: 'lang-select-page__option',\n          other: 'lang-select-page__other',\n          unavailable: 'lang-select-page__unavailable',\n          selected: 'is-selected'\n        });\n\n        var overflowToggle = function () {\n          switch (pageSwitcher.itemsOverflow()) {\n            case true:\n              pageLanguageSelector.trigger('hide.list');\n              pageLanguageSelector.trigger('show.dropdown');\n              break;\n\n            case false:\n              pageLanguageSelector.trigger('show.list');\n              pageLanguageSelector.trigger('hide.dropdown');\n              break;\n          }\n        };\n\n        if (typeof enquire !== 'undefined') {\n          // Runs on device width change.\n          enquire.register(Drupal.europa.breakpoints.medium, {\n            // Desktop case.\n            match : function() {\n              $(window).resize(function() {\n                overflowToggle();\n              });\n            },\n            // Mobile case.\n            unmatch : function() {\n              $(window).off('resize');\n            },\n            setup: function() {\n              overflowToggle();\n            }\n          });\n        }\n      });\n    }\n  };\n})(jQuery);\n"],"names":[],"mappings":";;;;;GAKA,CAAC,SAAU,CAAC,CAAE,CACZ,YAAY,CAAC,IAET,YAAY,CAAG,CACjB,SAAS,CAAE,mBAAmB,CAC9B,SAAS,CAAE,yBAAyB,CACpC,SAAS,CAAE,2BAA2B,CACtC,SAAS,CAAE,yBAAyB,CACpC,SAAS,CAAE,gCAAgC,CAC3C,SAAS,CAAE,UAAY,CACrB,OAAO,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,UAAU,EAAE,CAAC,CAC/C,CACD,SAAS,CAAE,UAAY,CACrB,OAAO,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,UAAU,EAAE,CAAC,CAC/C,CACD,SAAS,CAAE,UAAY,CACrB,OAAO,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,UAAU,EAAE,CAAC,CAC/C,CACD,gBAAgB,CAAE,UAAY,CAC5B,OAAO,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,UAAU,EAAE,CAAC,CAC/C,CACD,UAAU,CAAE,UAAY,CACtB,IAAI,YAAY,CAAG,CAAC,CAAC,CACpB,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAY,CAC1E,YAAY,EAAI,CAAC,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,CAAC,CACtC,CAAC,CAAC,OACI,YAAY,CAAC,CACrB,CACD,aAAa,CAAE,UAAY,CACzB,IAAI,cAAc,CAAG,YAAY,CAAC,SAAS,EAAE,CAAG,YAAY,CAAC,SAAS,EAAE,CAAG,YAAY,CAAC,gBAAgB,EAAE,CAAC,OACpG,YAAY,CAAC,UAAU,EAAE,CAAG,cAAc,CAAG,EAAE,CAAC,CACxD,CACF,CAAC,MAEI,CAAC,SAAS,CAAC,oBAAoB,CAAG,CACtC,MAAM,CAAE,SAAU,OAAO,CAAE,CACzB,CAAC,CAAC,sDAAsD,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAE,UAAW,CAC5F,IAAI,oBAAoB,CAAG,CAAC,CAAC,mBAAmB,CAAC,CAAC,oBAC9B,CAAC,SAAS,CAAC,CAC7B,YAAY,CAAE,wBAAwB,CACtC,IAAI,CAAE,0BAA0B,CAChC,KAAK,CAAE,yBAAyB,CAChC,WAAW,CAAE,+BAA+B,CAC5C,QAAQ,CAAE,aAAa,CACxB,CAAC,CAAC,IAEC,cAAc,CAAG,UAAY,CAC/B,OAAQ,YAAY,CAAC,aAAa,EAAE,EAClC,KAAK,IAAI,CACP,oBAAoB,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,oBACtB,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,MACxC,KAEH,KAAK,CACR,oBAAoB,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,oBACtB,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,MACxC,CACT,CACF,CAAC,GAEE,OAAO,OAAO,GAAK,WAAW,CAAE;AAElC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAE;AAEjD,KAAK,CAAG,UAAW,CACjB,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,UAAW,CAC1B,cAAc,EAAE,CAAC,CAClB,CAAC,CAAC,CACJ;AAED,OAAO,CAAG,UAAW,CACnB,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CACzB,CACD,KAAK,CAAE,UAAW,CAChB,cAAc,EAAE,CAAC,CAClB,CACF,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CACJ,CACF,CAAC,CACH,CAAA,CAAE,MAAM,CAAC;;","sourceRoot":"../src/"}