{"version":3,"file":"components/breadcrumb/scripts/breadcrumb.js","sources":["components/breadcrumb/scripts/breadcrumb.js"],"sourcesContent":["/**\n * @file\n * Breadcrumb related behaviors.\n */\n\n(function ($) {\n  Drupal.behaviors.europa_breadcrumb = {\n    attach: function (context) {\n      $('#breadcrumb').once('breadcrumb', function(){\n\n        // Add collapsible class for js mobile behavior.\n        var $breadcrumbWrapper = $('#breadcrumb');\n        $breadcrumbWrapper.addClass('breadcrumb--collapsible');\n\n        // Global selectors.\n        var $breadcrumbSegmentsWrapper = $breadcrumbWrapper.children('.breadcrumb__segments-wrapper'),\n            $breadcrumbSegments = $breadcrumbSegmentsWrapper.children('.breadcrumb__segment'),\n            $breadcrumbSegmentFirst = $breadcrumbSegmentsWrapper.children('.breadcrumb__segment--first'),\n            $breadcrumbSegmentSecond = $breadcrumbSegmentFirst.next();\n\n        // Calculating items that are not hidden.\n        var $breadcrumbVisibleSegments = $breadcrumbSegments.not('.is-hidden');\n\n        // Hiding breadcrumb segments when there is not enough space.\n        function toggleBreadcrumbSegments() {\n          for (var i = 0; i < $breadcrumbVisibleSegments.length; i++) {\n            // Calculating sizes.\n            var breadcrumbCalculations = {};\n            breadcrumbCalculations.wrapperWidth = $breadcrumbWrapper.width();\n            breadcrumbCalculations.width = $breadcrumbSegmentsWrapper.width();\n\n            breadcrumbCalculations.itemsWidth = 0;\n            $breadcrumbSegments.not('.is-hidden').each(function(i){\n              breadcrumbCalculations.itemsWidth += $(this).outerWidth(true);\n            });\n\n            // Local variables.\n            var $lastHiddenItem = $breadcrumbSegments.siblings('.is-hidden').last(),\n                lastHiddenItemWidth = $lastHiddenItem.width();\n\n            // Hiding segments.\n            if (breadcrumbCalculations.wrapperWidth <= breadcrumbCalculations.itemsWidth) {\n              if ($breadcrumbSegmentSecond.hasClass('is-hidden')) {\n                $lastHiddenItem.next().not('.breadcrumb__segment--last').addClass('is-hidden');\n              }\n              else {\n                $breadcrumbSegmentFirst.addClass('breadcrumb__segment--next-hidden');\n                $breadcrumbSegmentSecond.addClass('is-hidden');\n              }\n            }\n\n            // Showing segments.\n            if ((breadcrumbCalculations.itemsWidth + lastHiddenItemWidth) < breadcrumbCalculations.wrapperWidth) {\n              if ($lastHiddenItem.hasClass('is-hidden')) {\n                $lastHiddenItem.removeClass('is-hidden');\n              }\n              else {\n                $breadcrumbSegmentFirst.removeClass('breadcrumb__segment--next-hidden');\n              }\n            }\n          }\n\n          $breadcrumbVisibleSegments = $breadcrumbSegments.not('.is-hidden');\n        }\n\n        // Showing all hidden breadcrumbs.\n        function showBreadcrumbs($selector) {\n          $selector.hide();\n\n          var $breadcrumbWrapper = $('#breadcrumb');\n          $breadcrumbWrapper.addClass('is-open');\n        }\n\n        // Adding button to breadcrumb element that will be used for showing\n        // hidden breadcrumb elements.\n        if ($breadcrumbSegments.length > 1) {\n          $breadcrumbWrapper.append('<span class=\"breadcrumb__btn-separator\">...</span>');\n          var $breadcrumbButton = $breadcrumbWrapper.find('.breadcrumb__btn-separator');\n        }\n\n        if (typeof enquire !== 'undefined') {\n          // Runs on device width change.\n          enquire.register(Drupal.europa.breakpoints.medium, {\n            // Desktop.\n            match : function() {\n              $breadcrumbWrapper.removeClass('is-open');\n\n              if ($breadcrumbButton) {\n                $breadcrumbButton.hide();\n              }\n\n              toggleBreadcrumbSegments();\n\n              $(window).resize(function() {\n                toggleBreadcrumbSegments();\n              });\n            },\n            // Mobile.\n            unmatch : function() {\n              if ($breadcrumbButton) {\n                $breadcrumbButton.show();\n              }\n              $breadcrumbSegments.removeClass('is-hidden');\n\n              $breadcrumbSegmentFirst.removeClass('breadcrumb__segment--next-hidden');\n              $(window).off('resize');\n            },\n\n            setup: function() {\n              if ($breadcrumbButton) {\n                $breadcrumbButton.click(function(){\n                  // Adding $(this) as a selector for the showBreadcrumbs function.\n                  showBreadcrumbs($(this));\n                });\n              }\n            }\n          });\n        }\n      });\n    }\n  };\n})(jQuery);\n"],"names":[],"mappings":";;;;;GAKA,CAAC,SAAU,CAAC,CAAE,CACZ,MAAM,CAAC,SAAS,CAAC,iBAAiB,CAAG,CACnC,MAAM,CAAE,SAAU,OAAO,CAAE,CACzB,CAAC,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,YAAY,CAAE,UAAU;AAG5C,IAAI,kBAAkB,CAAG,CAAC,CAAC,aAAa,CAAC,CAAC,kBACxB,CAAC,QAAQ,CAAC,yBAAyB,CAAC;AAAC,IAGnD,0BAA0B,CAAG,kBAAkB,CAAC,QAAQ,CAAC,+BAA+B,CAAC,CACzF,mBAAmB,CAAG,0BAA0B,CAAC,QAAQ,CAAC,sBAAsB,CAAC,CACjF,uBAAuB,CAAG,0BAA0B,CAAC,QAAQ,CAAC,6BAA6B,CAAC,CAC5F,wBAAwB,CAAG,uBAAuB,CAAC,IAAI,EAAE;AAAC,IAG1D,0BAA0B,CAAG,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC;AAAC,SAG9D,wBAAwB,EAAG,CAClC,IAAK,IAAI,CAAC,CAAG,CAAC,CAAE,CAAC,CAAG,0BAA0B,CAAC,MAAM,CAAE,CAAC,EAAE,CAAE;AAE1D,IAAI,sBAAsB,CAAG,EAAE,CAAC,sBACV,CAAC,YAAY,CAAG,kBAAkB,CAAC,KAAK,EAAE,CAAC,sBAC3C,CAAC,KAAK,CAAG,0BAA0B,CAAC,KAAK,EAAE,CAAC,sBAE5C,CAAC,UAAU,CAAG,CAAC,CAAC,mBACnB,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CACpD,sBAAsB,CAAC,UAAU,EAAI,CAAC,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAC/D,CAAC;AAAC,IAGC,eAAe,CAAG,mBAAmB,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,IAAI,EAAE,CACnE,mBAAmB,CAAG,eAAe,CAAC,KAAK,EAAE;AAAC,GAG9C,sBAAsB,CAAC,YAAY,EAAI,sBAAsB,CAAC,UAAU,CAAE,CAC5E,GAAI,wBAAwB,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAE,CAClD,eAAe,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAChF,KACI,CACH,uBAAuB,CAAC,QAAQ,CAAC,kCAAkC,CAAC,CAAC,wBAC7C,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAChD,CACF;AAAA,GAGG,sBAAuB,CAAC,UAAU,CAAG,mBAAmB,CAAI,sBAAsB,CAAC,YAAY,CAAE,CACnG,GAAI,eAAe,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAE,CACzC,eAAe,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAC1C,KACI,CACH,uBAAuB,CAAC,WAAW,CAAC,kCAAkC,CAAC,CAAC,CACzE,CACF,CACF,0BAEyB,CAAG,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CACpE;AAAA,SAGQ,eAAe,CAAC,SAAS,CAAE,CAClC,SAAS,CAAC,IAAI,EAAE,CAAC,IAEb,kBAAkB,CAAG,CAAC,CAAC,aAAa,CAAC,CAAC,kBACxB,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CACxC;;AAAA,GAIG,mBAAmB,CAAC,MAAM,CAAG,CAAC,CAAE,CAClC,kBAAkB,CAAC,MAAM,CAAC,oDAAoD,CAAC,CAAC,IAC5E,iBAAiB,CAAG,kBAAkB,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC,CAC/E,GAEG,OAAO,OAAO,GAAK,WAAW,CAAE;AAElC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAE;AAEjD,KAAK,CAAG,UAAW,CACjB,kBAAkB,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,GAEtC,iBAAiB,CAAE,CACrB,iBAAiB,CAAC,IAAI,EAAE,CAAC,CAC1B,wBAEuB,EAAE,CAAC,CAE1B,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,UAAW,CAC1B,wBAAwB,EAAE,CAAC,CAC5B,CAAC,CAAC,CACJ;AAED,OAAO,CAAG,UAAW,CACnB,GAAI,iBAAiB,CAAE,CACrB,iBAAiB,CAAC,IAAI,EAAE,CAAC,CAC1B,mBACkB,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,uBAEtB,CAAC,WAAW,CAAC,kCAAkC,CAAC,CAAC,CACvE,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CACzB,CAED,KAAK,CAAE,UAAW,CAChB,GAAI,iBAAiB,CAAE,CACrB,iBAAiB,CAAC,KAAK,CAAC,UAAU;AAEhC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAC1B,CAAC,CAAC,CACJ,CACF,CACF,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CACJ,CACF,CAAC,CACH,CAAA,CAAE,MAAM,CAAC;;","sourceRoot":"../src/"}